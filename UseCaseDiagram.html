<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AFS - Use Case Diagram</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }
        .diagram {
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 20px;
            overflow-x: auto;
        }
        .legend {
            margin-top: 30px;
            padding: 20px;
            background-color: #f9f9f9;
            border-left: 4px solid #2196F3;
            border-radius: 4px;
        }
        .legend h3 {
            margin-top: 0;
            color: #333;
        }
        .legend-item {
            margin: 10px 0;
            color: #555;
        }
        .color-box {
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 10px;
            border-radius: 3px;
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ“ Academic Feedback System (AFS)</h1>
        <div class="subtitle">Use Case Diagram</div>
        
        <div class="diagram">
            <div class="mermaid">
graph TB
    actor Student["ðŸ‘¤ Student"]
    actor Lecturer["ðŸ‘¨â€ðŸ« Lecturer"]
    actor AcademicLeader["ðŸŽ“ Academic Leader"]
    actor AdminStaff["ðŸ‘” Admin Staff"]

    subgraph Auth["Authentication & Profile"]
        Login["ðŸ” Login"]
        Register["ðŸ“ Register"]
        EditProfile["âœï¸ Edit Profile"]
        Logout["ðŸšª Logout"]
    end

    subgraph StudentUC["Student Use Cases"]
        ViewClasses["ðŸ“š View Registered Classes"]
        ViewResults["ðŸ“Š View Assessment Results"]
        ViewFeedback["ðŸ’¬ View Feedback"]
        SubmitComment["âœï¸ Submit Comment on Feedback"]
        ViewAnnouncements["ðŸ“¢ View Announcements"]
    end

    subgraph LecturerUC["Lecturer Use Cases"]
        ViewModules["ðŸ“– View Assigned Modules"]
        DesignAssessment["ðŸ“‹ Design Assessment"]
        KeyInMarks["âœï¸ Key-in Assessment Marks"]
        ProvideFeedback["ðŸ“ Provide Feedback"]
        ViewSummary["ðŸ“ˆ View Assessment Summary"]
    end

    subgraph AcademicLeaderUC["Academic Leader Use Cases"]
        CreateModule["âž• Create Module"]
        ManageModules["âš™ï¸ Manage Modules"]
        AssignLecturers["ðŸ‘¨â€ðŸ« Assign Lecturers to Module"]
        ViewReports["ðŸ“Š View Academic Reports"]
        CalculateStats["ðŸ“‰ Calculate Analytics"]
    end

    subgraph AdminStaffUC["Admin Staff Use Cases"]
        UserManagement["ðŸ‘¥ User Management"]
        ApproveUsers["âœ… Approve/Disable Users"]
        ManageClasses["ðŸ« Create & Manage Classes"]
        AssignLecturersToClass["ðŸŽ¯ Assign Lecturers to Classes"]
        ConfigureGrading["âš™ï¸ Configure Grading System"]
        ManageAnnouncements["ðŸ“£ Manage Announcements"]
    end

    subgraph System["System Operations"]
        SaveData["ðŸ’¾ Save Data to Files"]
        LoadData["ðŸ“‚ Load Data from Files"]
        ManageGrading["ðŸ“ Manage Grading Scale"]
    end

    %% Authentication connections
    Student --> Login
    Student --> Register
    Lecturer --> Login
    Lecturer --> Register
    AcademicLeader --> Login
    AcademicLeader --> Register
    AdminStaff --> Login
    AdminStaff --> Register

    %% Edit Profile and Logout for all
    Student --> EditProfile
    Lecturer --> EditProfile
    AcademicLeader --> EditProfile
    AdminStaff --> EditProfile
    
    Student --> Logout
    Lecturer --> Logout
    AcademicLeader --> Logout
    AdminStaff --> Logout

    %% View Announcements for all
    Student --> ViewAnnouncements
    Lecturer --> ViewAnnouncements
    AcademicLeader --> ViewAnnouncements
    AdminStaff --> ViewAnnouncements

    %% Student specific use cases
    Student --> ViewClasses
    Student --> ViewResults
    Student --> ViewFeedback
    Student --> SubmitComment

    %% Lecturer specific use cases
    Lecturer --> ViewModules
    Lecturer --> DesignAssessment
    Lecturer --> KeyInMarks
    Lecturer --> ProvideFeedback
    Lecturer --> ViewSummary

    %% Academic Leader specific use cases
    AcademicLeader --> CreateModule
    AcademicLeader --> ManageModules
    AcademicLeader --> AssignLecturers
    AcademicLeader --> ViewReports
    AcademicLeader --> CalculateStats

    %% Admin Staff specific use cases
    AdminStaff --> UserManagement
    AdminStaff --> ApproveUsers
    AdminStaff --> ManageClasses
    AdminStaff --> AssignLecturersToClass
    AdminStaff --> ConfigureGrading
    AdminStaff --> ManageAnnouncements

    %% System Operations (included by various use cases)
    DesignAssessment -.->|includes| SaveData
    KeyInMarks -.->|includes| SaveData
    ProvideFeedback -.->|includes| SaveData
    CreateModule -.->|includes| SaveData
    ManageModules -.->|includes| SaveData
    AssignLecturers -.->|includes| SaveData
    UserManagement -.->|includes| SaveData
    ManageClasses -.->|includes| SaveData
    ManageAnnouncements -.->|includes| SaveData
    
    Login -.->|includes| LoadData
    EditProfile -.->|includes| SaveData

    %% Relationships
    KeyInMarks -.->|generates| ViewResults
    ProvideFeedback -.->|results in| ViewFeedback
    DesignAssessment -.->|used in| ViewResults
    ConfigureGrading -.->|affects| ViewResults
    ConfigureGrading -.->|affects| CalculateStats
    AssignLecturersToClass -.->|enables| ViewModules
    ManageClasses -.->|enables| ViewClasses

    style Auth fill:#e1f5ff
    style StudentUC fill:#f3e5f5
    style LecturerUC fill:#fff3e0
    style AcademicLeaderUC fill:#e8f5e9
    style AdminStaffUC fill:#fce4ec
    style System fill:#f5f5f5
            </div>
        </div>

        <div class="legend">
            <h3>Legend</h3>
            <div class="legend-item">
                <span class="color-box" style="background-color: #e1f5ff;"></span>
                <strong>Authentication & Profile</strong> - Login, Register, Edit Profile, Logout (shared by all actors)
            </div>
            <div class="legend-item">
                <span class="color-box" style="background-color: #f3e5f5;"></span>
                <strong>Student Use Cases</strong> - View classes, results, feedback, and announcements
            </div>
            <div class="legend-item">
                <span class="color-box" style="background-color: #fff3e0;"></span>
                <strong>Lecturer Use Cases</strong> - Design assessments, enter marks, provide feedback
            </div>
            <div class="legend-item">
                <span class="color-box" style="background-color: #e8f5e9;"></span>
                <strong>Academic Leader Use Cases</strong> - Create modules, assign lecturers, view reports
            </div>
            <div class="legend-item">
                <span class="color-box" style="background-color: #fce4ec;"></span>
                <strong>Admin Staff Use Cases</strong> - User management, class creation, grading configuration
            </div>
            <div class="legend-item">
                <span class="color-box" style="background-color: #f5f5f5;"></span>
                <strong>System Operations</strong> - Data persistence and grading system management
            </div>
        </div>
    </div>

    <script>
        mermaid.contentLoaderFunction = (text) => text;
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            securityLevel: 'loose'
        });
        mermaid.contentLoaderFunction = undefined;
        mermaid.run();
    </script>
</body>
</html>
